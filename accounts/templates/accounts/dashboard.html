{% extends "base.html" %} {% load static %} {% block content %}
<h1>Dashboard</h1>
<h2>Welcome @{{ user.username }} !</h2>
<section>
  <h2>Profile</h2>
  <p>{{ user_profile }}</p>
</section>
<section>
  <article>
    <h2>Portfolio</h2>

    <p>{{ user_transaction_diary }}</p>
    {% comment %}
    <p>Volume for : {{ user_transaction_diary.total_volume_for_coin.Jakas }}</p>
    {% endcomment %}
    <p>{{ user_transaction_diary }}</p>
  </article>
  <article style="max-width: 1200px; margin: 1rem">
    <h2>Transactions</h2>

    <div
      style="
        display: flex;
        gap: 10px;
        background: darkred;
        color: white;
        border-bottom: solid 2px white;
      "
    >
      <p style="width: 4rem">Image</p>
      <p style="width: 4rem">Type</p>
      <p style="width: 5rem">coin</p>
      <p style="width: 10rem">date</p>
      <p style="width: 8rem">volume</p>
      <p style="width: 8rem">price_USD</p>
    </div>

    {% for trans in user_transactions %}
    <div
      style="display: flex; gap: 10px; border-bottom: solid 1px black;
                background: 
                {% if trans.type == 'S' %}
                  lightgrey
                {% elif trans.type == 'B' %}
                  grey
                {% else %}
                  white
                {% endif %}"
    >
      <a style="width: 4rem"
        ><img style="width: 4rem" src="{{ trans.coin.image.url  }}" alt=""
      /></a>
      <p style="width: 4rem">{{ trans.type }}</p>
      <p style="width: 5rem">{{ trans.coin }}</p>
      <p style="width: 10rem">{{ trans.date_of_transaction }}</p>
      <p style="width: 8rem">{{ trans.volume }}</p>
      <p style="width: 8rem">{{ trans.price_USD }}</p>
      <p style="width: 8rem">{{ trans.summary_volume }}</p>
    </div>
    {% endfor %}
  </article>
</section>
{% endblock %}
